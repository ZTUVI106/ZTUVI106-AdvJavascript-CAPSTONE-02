<!doctype html>
<html>

<head>
    <title>Table3</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/yourcode.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script type="application/javascript" src="user_issue.js"></script>

    <style>
        #main {
            background-color: #f2f2f2;
        }

        nav {
            background-color: #661aff;
        }

        #btnn {
            background-color: #3d0099;
        }

        #data {
            background-color: #f2f2f2;
        }

        #arr {
            color: darkorchid;
        }

        h6 {
            color: #6699cc;
        }

        .d-flex {
            background-color: #f2f2f2;
        }

        #navbtn i {
            color: white;
        }

        #navbtn i:hover {
            border-radius: 16px;
            background-color: white;
            color: #3d0099;
            padding: 6px 20px;
            text-align: center;
        }
    </style>
</head>

<body onload="showIssues();">
    <div class="container-fluid w-100" id="main">
        <div class="navbar">

            <a class="navbar-brand text-primary" href="#">Odyssey</a>
            <i class="fa fa-search text-secondary" aria-hidden="true"></i>

            <div>

                <i class="fa fa-tv mr-3 text-secondary"></i>
                <i class="fas fa-bell mr-3 text-secondary"></i>
                <i class="fa fa-user mr-3 text-secondary"></i>
            </div>

        </div>


        <nav class="navbar navbar-expand-sm navbar-dark">

            <div class="container-fluid">


                <button class="navbar-toggler" data-toggle="collapse" data-target="#navbaraid">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbaraid">
                    <ul class="navbar-nav">
                        <li class="nav-item ml-5 mr-4"><a href="#" class="nav-link"><button type="button" class="btn"
                                    id="navbtn"><i class="fa fa-inbox"></i></button></li></a></li>
                        <li class="nav-item mr-4"><a href="#" class="nav-link"><button type="button" class="btn"
                                    id="navbtn"><i class="fas fa-th-large"></i></button></li></a></li>

                        <li class="nav-item mr-4"><a href="#" class="nav-link"><button type="button" class="btn"
                                    id="navbtn"><i class="fas fa-folder-open "></i></button>
                        </li></a></li>
                        <li class="nav-item mr-4"><a href="#" class="nav-link"><button type="button" class="btn"
                                    id="navbtn"><i style='font-size:24px'
                                        class='fas fa-rotate-90 '>&#xf1de;</i></button>
                        </li></a></li>
                        <li class="nav-item mr-4"><a href="#" class="nav-link"><button type="button" class="btn"
                                    id="navbtn"> <i class="fas fa-user-friends"></i></button></li></a></li>

                    </ul>
                </div>

                <button type="button" class="btn"><i class="fa fa-user-circle" style="font-size:36px"></i>
                </button>
                <button type="button" class="btn mr-3" id="btnn"><i
                        class='fas fa-rotate-90 text-white'>&#xf1de;</i></button>

                <button type="button " class="btn btn-warning text-white mr-5">+CREATE ISSUE</button>
            </div>
        </nav>
        <div class="container-fluid" id="data">
            <div class="row m-3">

                <div class="col-3 ml-5">
                    <h6 class="text-secondary mt-3"><i class="fa fa-arrow-left" id="arr" aria-hidden="true"></i> Back
                    </h6>
                    <!-- -------------------issue list------------------- -->
                    <div id="issue_list_cnt">
                        <input class="inputBox">
                        <button onclick="sortByDate();">Click To Sort</button>

                        <table id="jsonissues"
                            class="table table-bordered table-hover table-responsive-sm text-left bg-light col-lg-4">
                        </table>
                    </div>
                </div>

                <div class="col-8 ml-5 mr-1">


                    <div class="navbar">

                        <h6 class="mt-2">DETAIL VIEW</h6>


                        <div>
                            <i class="material-icons  text-secondary ">
                                brightness_low
                            </i>
                        </div>

                    </div>


                    <div class="container-fluid  bg-white">

                        <div class="text-center pt-4" id="profile">
                            <h6>Profile</h6>
                        </div>

                        <div class="container">

                            <div class="d-flex mt-4 ">
                                <div class="p-2 flex-fill text-center">Type</div>
                                <div class="p-2 flex-fill text-center ">Priority</div>
                                <div class="p-2 flex-fill text-center">Estimate</div>
                                <div class="p-2 flex-fill text-center">Status</div>
                            </div>



                            <div class="mt-5" id="isu">
                                <h6>ISSUE NAME</h6>
                            </div>

                            <div class="mt-5" id="des">
                                <h6>DESCRIPTION <i class="fa fa-arrow-down" id="arr" aria-hidden="true"></i></h6>
                            </div>

                            <div class="mt-5" id="act">
                                <h6>ACTIVITY <i class="fa fa-arrow-down" id="arr" aria-hidden="true"></i></h6>

                                <nav class="navbar navbar-expand-sm  bg-white">
                                    <ul class="nav nav " role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link text-secondary" data-toggle="tab" href="#All">All</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link text-secondary active" data-toggle="tab"
                                                href="#Comments">Comments</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link text-secondary" data-toggle="tab"
                                                href="#Transition">Transition</a>
                                        </li>
                                    </ul>
                                </nav>
                                <hr>
                            </div>

                            <div class="tab-content">
                                <div id="All" class="container tab-pane fade"><br>
                                    <h3>All</h3>
                                </div>

                                <div id="Comments" class="container tab-pane active"><br>

                                    <div class="container-fluid">

                                        <div class="row">

                                            <form>
                                                <select class="form-control" id="sel1">
                                                    <option>Normal text</option>
                                                    <option>2</option>
                                                    <option>3</option>
                                                    <option>4</option>
                                                </select>
                                            </form>
                                            <button><i class="fa fa-bold" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-italic" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-ellipsis-h" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-font" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-list-ul" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-list-ol" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-link" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-file-image" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-at" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-smile" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-th-large" aria-hidden="true"></i></button>
                                            <button><i class="fa fa-quote-right" aria-hidden="true"></i></button>
                                            <button><strong>

                                                </strong></button>
                                            <button><i class="fa fa-plus" aria-hidden="true"></i></button>
                                        </div>
                                        <textarea placeholder="Add Comments..."></textarea>
                                    </div>

                                </div>

                                <div id="Transition" class="container tab-pane fade"><br>
                                    <h3>Transition</h3>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>



        function showIssues() {

            var heading = [];

            for (var i = 0; i < issues.length; i++) {
                for (var k in issues[i]) {  
                    if (heading.indexOf(k) === -1) {    
                        // Push all keys to the array 

                        heading.push(k);

                    }

                }

            }

            // Create a table element 
            var table = document.createElement("table");
            table.setAttribute("id", "dynamicTableIssues");
            // Create table row tr element of a table 
            var tr = table.insertRow(-1);
            // Create the table header th element 
            var theader = document.createElement("th");
            theader.innerHTML = "ISSUES";
            // Append columnName to the table row
            tr.appendChild(theader);

            // Adding data to the table 
            for (var i = 0; i < issues.length; i++) {

                // Create a new row 
                trow = table.insertRow(-1);
                trow.setAttribute("id", i + 1);
                trow.setAttribute("onclick", "onRowClick(id);");

                for (var j = 0; j < heading.length; j++) {
                    var cell = trow.insertCell(-1);

                    // Inserting the cell at particular place 
                    cell.innerHTML = issues[i][heading[j]];
                }
                console.log(issues[i][heading[j]]);
            }

            // Add the newely created table containing json data 
            var el = document.getElementById("jsonissues");
            el.innerHTML = "";
            el.appendChild(table);

        }




        // function sortByDate() {
        //     var sort = document.getElementById("jsonissues");

        //     issues.sort(function (a, b) {

        //         return new Date(a.date) - new Date(b.date);
        //     });
        //     // allRows[i].parentNode.insertBefore(allRows[i + 1], allRows[i]);
        //     sort.innerHTML = JSON.stringify(issues);
        // }


        function sortByDate() {

            var dynTable, allRows, bool, i, currentRow, nextRow, changePlace;
            dynTable = document.getElementById("dynamicTableIssues");
            
            bool = 1;
            /*Make a loop that will continue until
            no switching has been done:*/
            while (bool) {
                //start by saying: no switching is done:
                bool = 0;
                allRows = dynTable.rows;

                // loop except heading of table (allRows.length - 1)
                for (i = 1; i < (allRows.length - 1); i++) {
                    //start by saying there should be no switching:
                    changePlace = false;
                    issues.sort(function (a, b) {

                        return new Date(a.date) - new Date(b.date);
                    });
                }
                
            }
            
console.log(issues[0]);

        }
    </script>
</body>

</html>